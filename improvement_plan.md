# План улучшений для проекта EvolveAI

Этот документ содержит несколько идей и предложений по дальнейшему улучшению кода проекта. Текущая реализация находится на очень высоком уровне, и эти предложения направлены на внедрение дополнительных лучших практик, которые могут быть полезны при дальнейшем развитии и поддержке проекта.

---

### 1. Бэкенд (FastAPI)

#### 1.1. Внедрение структурированного логирования

*   **Предложение:** Перейти со стандартного `logging` на структурированное логирование с помощью библиотеки `structlog`.
*   **Обоснование:** Структурированные логи (обычно в формате JSON) гораздо проще парсить, фильтровать и анализировать в системах сбора логов, таких как ELK Stack (Elasticsearch, Logstash, Kibana) или Grafana Loki. Это значительно упрощает отладку и мониторинг в продакшен-окружении, позволяя, например, легко отслеживать полный путь запроса по `user_id` или `trace_id`.

#### 1.2. Управление зависимостями с помощью Poetry

*   **Предложение:** Заменить файл `requirements.txt` на систему управления зависимостями `Poetry`.
*   **Обоснование:** `Poetry` создает детерминированный `poetry.lock` файл, который гарантирует, что на всех машинах (локальной, тестовой, продакшен) будут установлены абсолютно одинаковые версии всех пакетов и их под-зависимостей. Это полностью решает проблему "у меня работает, а на сервере нет" и делает сборку проекта более надежной и предсказуемой.

---

### 3. Общее

#### 3.1. Написание автоматических тестов

*   **Предложение:** Добавить автоматические тесты для ключевых частей бизнес-логики с помощью `pytest` и `httpx.AsyncClient` для тестирования API.
*   **Обоснование:** Проект достиг уровня сложности, когда ручное тестирование становится неэффективным и трудоемким. Автоматические тесты (юнит-тесты для отдельных функций и интеграционные тесты для API эндпоинтов) позволят:
    *   Гарантировать, что новые изменения не сломали существующую функциональность (регрессионное тестирование).
    *   Упростить рефакторинг, так как тесты служат "сетью безопасности".
    *   Проверять корректность работы ключевой логики, такой как обновление `relationship_score`, работа FSM или логика подписок.